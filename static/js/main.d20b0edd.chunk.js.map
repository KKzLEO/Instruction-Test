{"version":3,"sources":["components/common/tabItem.module.scss","components/content/camera.module.scss","components/footer/footer.module.scss","components/content/introduce.module.scss","components/header/header.module.scss","components/common/tab.module.scss","components/content/basic.module.scss","components/content/image.module.scss","assets/images/camera.png","assets/images/video.png","assets/images/put-flag-at-the-road.png","assets/images/move-car.png","components/main.module.scss","logo.svg","components/common/tablItem.js","components/common/tab.js","components/constants/step.js","components/constants/urls.js","components/enhancers/mainProvider.js","components/enhancers/withMainContext.js","components/header/header.js","components/footer/footer.js","components/content/basic.js","components/content/introduce.js","components/enhancers/withScript.js","components/content/image.js","components/content/camera.js","components/switcher.js","components/main.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","TablItem","isCompleted","isActive","number","children","handleTabClick","classes4Icon","classNames","styles","icon","icon__inactive","icon__completed","icon__active","classes4Title","title","title__inactive","title__completed","title__active","className","container","onClick","Check","props","Tab","this","activeTabNumber","map","child","index","key","PureComponent","STEP","START","HINT","ONE","TWO","THREE","FOUR","END","LINE_BOT_URL","Context","React","createContext","MainProvider","setStateByActiveNumber","activeNumber","state","btnText","isShowBtn","handleClickConfirmBtn","nextPage","backToLineBot","setState","confirmBtnText","isShowConfirmBtn","isShowSkip","window","open","setActiveNumber","prevPage","prevState","prevProps","Provider","value","withMainContext","Component","Consumer","mainCtx","skipBtn","confirmBtn","BasicPage","url","IntroducePage","onAnimationEnd","fade","containerProps","Content","ImagePage","imageSrc","img","src","alt","downloadFile","e","a","document","createElement","file","target","files","href","URL","createObjectURL","download","name","click","remove","openCamera","method","input","type","accept","capture","onchange","CameraPage","imageContainer","leftImage","cameraSrc","divider","rightImage","videoSrc","PageStart","PageHint","PageOne","putFlagImage","PageTwo","PageThree","PageFour","moveCarImage","PageEnd","arg","renderPage","Main","isOpendByLiff","liff","init","userData","isEmpty","result","openWindow","external","closeWindow","withScript","Base","loadingComponent","isScriptLoaded","AsyncScriptLoader","makeAsyncScriptLoader","asyncScriptOnLoad","App","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d20b0edd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"tabItem_container__1gbiR\",\"icon\":\"tabItem_icon___HbXH\",\"icon__completed\":\"tabItem_icon__completed__2x0RI\",\"icon__active\":\"tabItem_icon__active__nPU_0\",\"icon__inactive\":\"tabItem_icon__inactive__11Wmm\",\"title\":\"tabItem_title__7wAn8\",\"title__completed\":\"tabItem_title__completed__xARpB\",\"title__active\":\"tabItem_title__active__2kV3L\",\"title__inactive\":\"tabItem_title__inactive__2ixIi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"standard\":\"camera_standard__3_sVB\",\"leftImage\":\"camera_leftImage__IVAuN\",\"rightImage\":\"camera_rightImage__3lXzw\",\"container\":\"camera_container__3StX6\",\"title\":\"camera_title__2ff9c\",\"divider\":\"camera_divider__EtW4q\",\"imageContainer\":\"camera_imageContainer__2RO67\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"footer_container__PBaXj\",\"confirmBtn\":\"footer_confirmBtn__vKo7j\",\"skipBtn\":\"footer_skipBtn__3rLvQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"introduce_container__3T8ZU\",\"child\":\"introduce_child__xEPCZ\",\"fade\":\"introduce_fade__aU6vp\",\"fadeInOut\":\"introduce_fadeInOut__2CoFn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"header_container__mVqip\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"tab_container__1WXwA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"basic_container__2FXlE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"image_img__1DqUV\"};","module.exports = __webpack_public_path__ + \"static/media/camera.83862cfc.png\";","module.exports = __webpack_public_path__ + \"static/media/video.cdcc1d47.png\";","module.exports = __webpack_public_path__ + \"static/media/put-flag-at-the-road.8b3e7c0c.png\";","module.exports = __webpack_public_path__ + \"static/media/move-car.a7bacbe8.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"main_container__1y5mB\"};","module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";","import React from 'react'\r\nimport classNames from 'classnames'\r\nimport styles from './tabItem.module.scss'\r\nimport { Check } from '@material-ui/icons';\r\n\r\nconst TablItem = ({ isCompleted, isActive, number, children, handleTabClick }) => {\r\n  const classes4Icon = classNames(styles.icon, {\r\n    [styles.icon__inactive]: !isActive,\r\n    [styles.icon__completed]: isCompleted,\r\n    [styles.icon__active]: isActive\r\n  })\r\n  const classes4Title = classNames(styles.title, {\r\n    [styles.title__inactive]: !isActive,\r\n    [styles.title__completed]: isCompleted,\r\n    [styles.title__active]: isActive\r\n  })\r\n\r\n  return (\r\n    <div className={styles.container} onClick={() => handleTabClick(number)}>\r\n      <div className={classes4Icon}>\r\n        { isCompleted ? <Check /> : number }\r\n      </div>\r\n      <div className={classes4Title}>\r\n        { children.props.children }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TablItem\r\n","import React, { PureComponent } from 'react'\r\nimport TabItem from './tablItem'\r\nimport styles from './tab.module.scss'\r\n\r\nexport default class Tab extends PureComponent {\r\n\r\n  render() {\r\n    const { activeTabNumber, handleTabClick } = this.props\r\n    return (\r\n      <div className={styles.container}>\r\n        {\r\n          this.props.children.map((child, index) => (\r\n            <TabItem\r\n              key={index} \r\n              number={index+1}\r\n              isActive={activeTabNumber >= (index+1)}\r\n              isCompleted={activeTabNumber > (index+1)}\r\n              handleTabClick={handleTabClick}\r\n            >\r\n              {child}\r\n            </TabItem>\r\n          ))\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","export const STEP = {\r\n  START: -1,\r\n  HINT: 0,\r\n  ONE: 1,\r\n  TWO: 2,\r\n  THREE: 3,\r\n  FOUR: 4,\r\n  END: 5\r\n}","export const LINE_BOT_URL = 'https://line.me/R/ti/p/%40032vmcng'\r\n\r\nexport const LINE_LIFF_SCRIPT_URL = `https://d.line-scdn.net/liff/1.0/sdk.js`\r\n\r\nexport const BASE_URL = 'https://kkzleo.github.io/Instruction-Test/'","import React, { PureComponent } from 'react'\r\nimport { STEP } from '../constants/step'\r\nimport { LINE_BOT_URL } from '../constants/urls'\r\n\r\nexport const Context = React.createContext()\r\n\r\nexport default class MainProvider extends PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      activeNumber: STEP.START,\r\n      setActiveNumber: this.setActiveNumber,\r\n      prevPage: this.prevPage,\r\n      nextPage: this.nextPage,\r\n      confirmBtnText: '已了解',\r\n      isShowConfirmBtn: false,\r\n      handleClickConfirmBtn: this.nextPage,\r\n      isShowSkip: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setStateByActiveNumber()\r\n  }\r\n  \r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    this.setStateByActiveNumber()\r\n  }\r\n\r\n  setStateByActiveNumber = () => {\r\n    const { activeNumber } = this.state\r\n    let btnText = ''\r\n    let isShowBtn = false\r\n    let handleClickConfirmBtn = this.nextPage\r\n    let isShowSkip = false\r\n\r\n    switch(activeNumber) {\r\n      case STEP.START:\r\n        btnText = 'Skip'\r\n        isShowBtn = true\r\n        break\r\n      case STEP.HINT:\r\n        btnText = '已了解'\r\n        isShowBtn = true\r\n        break\r\n      case STEP.ONE:\r\n      case STEP.TWO:\r\n      case STEP.THREE:\r\n      case STEP.FOUR:\r\n        btnText = '已完成'\r\n        isShowBtn = true\r\n        break\r\n      case STEP.END:\r\n        btnText = '回到 LINE 給新北警察'\r\n        isShowBtn = true\r\n        handleClickConfirmBtn = this.backToLineBot \r\n        break\r\n      default:\r\n        break\r\n    }\r\n\r\n    this.setState({\r\n      confirmBtnText: btnText,\r\n      isShowConfirmBtn: isShowBtn,\r\n      handleClickConfirmBtn: handleClickConfirmBtn,\r\n      isShowSkip: isShowSkip,\r\n    })\r\n  }\r\n\r\n  backToLineBot = () => {\r\n    window.open(LINE_BOT_URL)\r\n  }\r\n  \r\n  setActiveNumber = (number) => {\r\n    this.setState({\r\n      activeNumber: number\r\n    })\r\n  }\r\n\r\n  prevPage = () => {\r\n    this.setState(prevState => ({\r\n      activeNumber: prevState.activeNumber - 1\r\n    }))\r\n  }\r\n\r\n  nextPage = () => {\r\n    this.setState(prevState => ({\r\n      activeNumber: prevState.activeNumber + 1\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Context.Provider\r\n        value={{\r\n          ...this.state\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </Context.Provider>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport MainProvider, { Context } from './mainProvider'\r\n\r\nconst withMainContext = (Component) => (props) => {\r\n  return (\r\n    <Context.Consumer>\r\n      {value => <Component {...props} mainCtx={value} /> }\r\n    </Context.Consumer>\r\n  )\r\n}\r\n\r\nexport default withMainContext","import React, { Component } from 'react'\r\nimport styles from './header.module.scss'\r\nimport Tab from '../common/tab'\r\nimport TabItem from '../common/tablItem'\r\nimport withMainContext from '../enhancers/withMainContext'\r\n\r\nconst Header = ({\r\n  mainCtx: {\r\n    activeNumber,\r\n    setActiveNumber\r\n  }\r\n}) => {\r\n  return (\r\n    <div className={styles.container}>\r\n      <Tab activeTabNumber={activeNumber} handleTabClick={setActiveNumber}>\r\n        <TabItem>放置故障標誌</TabItem>\r\n        <TabItem>拍攝全景</TabItem>\r\n        <TabItem>拍攝碰撞點車損部位</TabItem>\r\n        <TabItem>盡速將車移至安全地點</TabItem>\r\n        <TabItem>完成</TabItem>\r\n      </Tab>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withMainContext(Header)","import React from 'react'\r\nimport styles from './footer.module.scss'\r\nimport withMainContext from '../enhancers/withMainContext'\r\n\r\nconst Footer = ({\r\n  mainCtx: {\r\n    nextPage,\r\n    prevPage,\r\n    confirmBtnText,\r\n    isShowConfirmBtn,\r\n    handleClickConfirmBtn,\r\n    isShowSkip\r\n  }\r\n}) => {\r\n  return (\r\n    <div className={styles.container}>\r\n      {\r\n        isShowSkip && (\r\n          <span onClick={nextPage} className={styles.skipBtn}>Skip</span>\r\n        )\r\n      }\r\n      { \r\n        isShowConfirmBtn && (\r\n          <button \r\n            className={styles.confirmBtn}\r\n            onClick={handleClickConfirmBtn}\r\n          >\r\n            {confirmBtnText}\r\n          </button>\r\n      )}\r\n      <h5>※此教學並不會存放任何您的檔案及資料</h5>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withMainContext(Footer)","import React from 'react'\r\nimport styles from './basic.module.scss'\r\n\r\nconst BasicPage = ({ children }) => {\r\n  return (\r\n    <div className={styles.container}>\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BasicPage","import React from 'react'\r\nimport BasicPage from './basic'\r\nimport styles from './introduce.module.scss'\r\nimport Fade from '@material-ui/core/Fade'\r\nimport classNames from 'classnames'\r\n\r\nconst IntroducePage = ({ children, onAnimationEnd, fade }) => {\r\n  const containerProps = {\r\n    className: classNames(styles.container, { [styles.fade]: fade } ),\r\n    ...onAnimationEnd && { onAnimationEnd: onAnimationEnd }\r\n  }\r\n\r\n  const Content = () => (\r\n    <div {...containerProps}>\r\n      {\r\n        children.map((child, index) => (\r\n          <div className={styles.child} key={`intro_page-${index}`}>{child}</div>\r\n        ))\r\n      }\r\n    </div>\r\n  )\r\n\r\n  const renderContent = () => {\r\n    if(fade) {\r\n      return (\r\n        <Content />\r\n      )\r\n    } else {\r\n      return <Content />\r\n    }\r\n  }\r\n\r\n  return (\r\n    <BasicPage>\r\n      { renderContent() }\r\n    </BasicPage>\r\n  )\r\n}\r\n\r\nexport default IntroducePage","import React, { PureComponent } from 'react'\r\nimport makeAsyncScriptLoader from 'react-async-script'\r\n\r\nexport default (url) => Base => {\r\n  const loadingComponent = () => null\r\n\r\n  return (\r\n    class extends PureComponent {\r\n      constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n          isScriptLoaded: false\r\n        }\r\n      }\r\n\r\n      render() {\r\n        const AsyncScriptLoader = makeAsyncScriptLoader(url)(loadingComponent)\r\n\r\n        if (this.state.isScriptLoaded) {\r\n          return <Base {...this.props} />\r\n        } else {\r\n          return <AsyncScriptLoader asyncScriptOnLoad={() => {\r\n            this.setState({ isScriptLoaded: true })\r\n          }} />\r\n        }\r\n      }\r\n    }\r\n  )\r\n}\r\n","import React from 'react'\r\nimport styles from './image.module.scss'\r\nimport IntroducePage from './introduce'\r\n\r\nconst ImagePage = ({ title, imageSrc }) => {\r\n  return (\r\n    <IntroducePage>\r\n      <span>{title}</span>\r\n      <img className={styles.img} src={imageSrc} alt=\"\" />\r\n    </IntroducePage>\r\n  )\r\n}\r\n\r\nexport default ImagePage","import React from 'react'\r\nimport styles from './camera.module.scss'\r\nimport BasicPage from './basic'\r\nimport cameraSrc from '../../assets/images/camera.png'\r\nimport videoSrc from '../../assets/images/video.png'\r\n\r\nconst downloadFile = (e) => {\r\n  const a = document.createElement('a')\r\n  const file = e.target.files[0]\r\n  a.href = URL.createObjectURL(file)\r\n  a.download = file.name\r\n  a.click()\r\n  a.remove()\r\n}\r\n\r\nconst openCamera = (method = \"image\") => {\r\n  let input = document.createElement('input')\r\n  input.type = \"file\"\r\n  input.accept = `${method}/*`\r\n  input.capture = \"camera\"\r\n  input.onchange = downloadFile\r\n  input.click()\r\n  input.remove()\r\n}\r\n\r\nconst CameraPage = ({ title }) => {\r\n  return (\r\n    <BasicPage>\r\n      <div className={styles.container}>\r\n        <div className={styles.title}><span>{title}</span></div>\r\n        <div className={styles.imageContainer}>\r\n          <div className={styles.leftImage} onClick={openCamera}>\r\n            <img src={cameraSrc} />\r\n            <h4>拍照</h4>\r\n          </div>\r\n          <div className={styles.divider}></div>\r\n          <div className={styles.rightImage} onClick={() => openCamera(\"video\")}>\r\n            <img src={videoSrc} />\r\n            <h4>錄影</h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </BasicPage>\r\n  )\r\n}\r\n\r\nexport default CameraPage","import React, { Fragment } from 'react'\r\nimport withMainContext from './enhancers/withMainContext'\r\nimport IntroducePage from './content/introduce'\r\nimport BasicPage from './content/basic'\r\nimport ImagePage from './content/image'\r\nimport CameraPage from './content/camera'\r\nimport { STEP } from './constants/step'\r\nimport putFlagImage from '../assets/images/put-flag-at-the-road.png'\r\nimport moveCarImage from '../assets/images/move-car.png'\r\n\r\nconst PageStart = ({ nextPage }) => (\r\n  <IntroducePage fade onAnimationEnd={nextPage}>\r\n    <span>發生輕微車禍了嗎？</span>\r\n    <span>別擔心，此教學將會給予您正確的指示</span>\r\n  </IntroducePage>\r\n)\r\n\r\nconst PageHint = (\r\n  <IntroducePage>\r\n    <span>請注意安全</span>\r\n    <span>並依照以下指示操作</span>\r\n  </IntroducePage>\r\n)\r\n\r\nconst PageOne = (\r\n  <ImagePage \r\n    imageSrc={putFlagImage}\r\n    title={'請放置故障標誌'}\r\n  />\r\n)\r\n\r\nconst PageTwo = (\r\n  <CameraPage\r\n    title={'拍攝全景（含標線）'}\r\n  />\r\n)\r\n\r\nconst PageThree = (\r\n  <CameraPage\r\n    title={'拍攝碰撞點及車損部位'}\r\n  />\r\n)\r\n\r\nconst PageFour = (\r\n  <ImagePage \r\n    imageSrc={moveCarImage}\r\n    title={'盡速將車移至安全地點'}\r\n  />\r\n)\r\n\r\nconst PageEnd = (\r\n  <IntroducePage>\r\n    <span>已完成</span>\r\n    <span>請您保存好檔案</span>\r\n    <span>並提供給相關單位處理</span>\r\n  </IntroducePage>\r\n)\r\n\r\nconst renderPage = ({ activeNumber: number, nextPage }) => {\r\n  switch(number) {\r\n    case STEP.START:\r\n      return <PageStart nextPage={nextPage} />\r\n    case STEP.HINT:\r\n      return PageHint\r\n    case STEP.ONE:\r\n      return PageOne\r\n    case STEP.TWO:\r\n      return PageTwo\r\n    case STEP.THREE:\r\n      return PageThree\r\n    case STEP.FOUR:\r\n      return PageFour\r\n    case STEP.END:\r\n      return PageEnd\r\n    default:\r\n      return <BasicPage />\r\n  }\r\n}\r\n\r\nconst Switcher = ({\r\n  mainCtx: {\r\n    activeNumber,\r\n    nextPage,\r\n    prevPage\r\n  }\r\n}) => {\r\n  const arg = { activeNumber, nextPage, prevPage }\r\n\r\n  return (\r\n    <Fragment>\r\n      { renderPage(arg) }\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default withMainContext(Switcher)","import React, { PureComponent } from 'react'\r\nimport Header from './header/header'\r\nimport Footer from './footer/footer'\r\nimport Switcher from './switcher'\r\nimport IntroducePage from './content/introduce'\r\nimport styles from './main.module.scss'\r\nimport MainProvider from './enhancers/mainProvider'\r\nimport withScript from './enhancers/withScript'\r\nimport { result, isEmpty } from 'lodash'\r\nimport { isAndroidWebview } from '../utils/useragent'\r\nimport { BASE_URL, LINE_LIFF_SCRIPT_URL } from '../components/constants/urls'\r\n\r\nclass Main extends PureComponent {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      isOpendByLiff: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.liff.init((userData) => {\r\n      if(!isEmpty(result(userData, 'context.userId'))){\r\n        this.setState({\r\n          isOpendByLiff: true\r\n        })\r\n        window.liff.openWindow({\r\n          url: BASE_URL,\r\n          external: true\r\n        })\r\n        window.liff.closeWindow()\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return !this.state.isOpendByLiff && (\r\n      <MainProvider>\r\n        <div className={styles.container}>\r\n          <Header />\r\n          <Switcher />\r\n          <Footer />\r\n        </div>\r\n      </MainProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withScript(LINE_LIFF_SCRIPT_URL)(Main)\r\n","import React from 'react';\nimport logo from './logo.svg';\nimport './assets/scss/font.scss'\nimport './assets/scss/global.scss'\nimport 'normalize.css'\nimport Main from './components/main';\n\nfunction App() {\n  return (\n    <Main />\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}